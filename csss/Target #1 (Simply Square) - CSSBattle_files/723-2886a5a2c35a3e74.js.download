(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{2173:function(e,t,a){"use strict";a.d(t,{c:function(){return p}});var i=a(2322),r=a(9097),s=a.n(r),n=a(2784),l=a(7037),c=a(5598),o=a(4807),d=(a(9241),a(9604)),u=a(4030),h=a(1551),x=a(1893),y=function(e){var t=e.width;return(0,i.jsx)("div",{className:"skeleton",style:{width:t}})},v=a(2367),m=a(3552),g=a(8387),p=function(e){var t=e.target,a=e.showDateInside,r=e.lazy,p=void 0===r||r,f=(0,x.a)(),j=(0,n.useState)(!1),T=j[0],b=j[1],_=(0,n.useState)(),S=_[0],k=_[1],N=(0,n.useState)(""),w=N[0],P=N[1],z=(0,n.useContext)(m.k).streak;(0,n.useEffect)((function(){S&&t&&P((0,v.qA)({score:S.score,codeSize:S.codeSize,levelId:t.id,isDaily:!0,date:t.formattedDate,streak:null===z||void 0===z?void 0:z.count}))}),[t,S]),(0,n.useEffect)((function(){"dummy"!==t.id&&(null===f||void 0===f?void 0:f.uid)&&(b(!0),(0,l.kP)({playerId:f.uid,levelId:t.id}).then((function(e){k(e)})).finally((function(){b(!1)})))}),[null===t||void 0===t?void 0:t.id,null===f||void 0===f?void 0:f.uid]);var D=(0,u.isTodaysDailyTarget)(t),I=(0,u.isYesterdaysDailyTarget)(t);return(0,i.jsxs)(c.VStack,{gap:"1rem",children:[!a&&(0,i.jsxs)("div",{className:"pill ".concat(S?"pill--success":""," "),children:[S?(0,i.jsx)(d.J,{name:"tick-round",size:"1em",color:"white"}):null," ",t.formattedDate,D?" (Today) ":""]}),(0,i.jsx)("div",{className:D?"target-today":"",children:(0,i.jsx)(o.i,{target:t,data:S,showTags:a,lazy:p,useCdnUrl:!0,children:(0,i.jsx)("div",{style:{padding:"1rem 1rem 0.5rem"},children:"dummy"!==t.id?(0,i.jsxs)(c.HStack,{justify:"space-between",children:[(0,i.jsx)("div",{className:"daily-target-text",children:(0,i.jsxs)(c.VStack,{gap:"0",align:"flex-start",children:[(0,i.jsx)("p",{className:"daily-target-text__title",children:"Your hi-score"}),(0,i.jsx)("div",{className:"daily-target-text__score",children:T?(0,i.jsx)(y,{width:"6ch"}):S?"".concat(S.score||S.overall.score," {").concat(S.codeSize||S.overall.codeSize,"}"):"Not played"})]})}),(0,i.jsxs)(c.HStack,{extend:!0,gap:"0.5rem",children:[D&&S?(0,i.jsx)("a",{href:"https://twitter.com/share?url=https://cssbattle.dev/play/".concat(null===t||void 0===t?void 0:t.id,"&text=").concat(w,"&hashtags=CSSBattleChallenge&via=css_battle&related=css_battle"),target:"_blank",rel:"external noopener noreferrer",className:"button button--circular",children:(0,i.jsx)(d.J,{name:"twitter",color:"var(--clr-text-light)",marginRight:"0",size:"20"})}):null,I&&!(null===f||void 0===f?void 0:f.isPro)?(0,i.jsx)(s(),{href:{pathname:"/play/".concat(t.id),query:{openTopSolutions:!0}},children:(0,i.jsx)("a",{className:(0,u.isTodaysDailyTarget)(t)?"button--primary button button--circular":"button button--circular",children:(0,i.jsx)(d.J,{name:"open-book",color:(0,u.isTodaysDailyTarget)(t)?"var(--clr-btn-text)":"var(--clr-text-light)",marginRight:"0",size:"20"})})}):D||(null===f||void 0===f?void 0:f.isPro)?(0,i.jsx)(s(),{href:"/play/".concat(t.id),children:(0,i.jsx)("a",{className:(0,u.isTodaysDailyTarget)(t)?"button--primary button button--circular":"button button--circular",children:(0,i.jsx)(d.J,{name:"play",color:(0,u.isTodaysDailyTarget)(t)?"var(--clr-btn-text)":"var(--clr-text-light)",marginRight:"0",size:"20"})})}):(0,i.jsx)(g.Z,{})]})]}):(0,i.jsxs)("div",{className:"daily-target-text",children:[(0,i.jsx)("p",{className:"daily-target-text__title",style:{textAlign:"center"},children:"Unlocks in"}),(0,i.jsx)("div",{style:{marginTop:"0.5rem"},children:(0,i.jsx)(h.W,{showEmoji:!1,suffix:"",date:1e3*t.date,size:"0.1",showUnits:!1})})]})})})})]})}},3638:function(e,t,a){"use strict";a.d(t,{J:function(){return u}});var i=a(2322),r=a(2784),s=a(7037),n=a(5416),l=a(5598),c=a(9241),o=a(2173),d=a(2367),u=function(e){var t=e.showFreeOnly,a=e.count,u=void 0===a?6:a,h=(0,r.useState)(),x=h[0],y=h[1];return(0,r.useEffect)((function(){(0,s.rz)(u).then((function(e){var a=e.slice();a.forEach((function(e,t){e.formattedDate=(0,d.dQ)(e.startDate)})),(t||(0,d.tq)())&&(a=a.slice(0,2));var i=+new Date(a[0].startDate.seconds)+86400;a.reverse().push({id:"dummy",image:"/targets/0.png?v=2",formattedDate:"Tomorrow",date:i}),y(a)}))}),[]),(0,r.useEffect)((function(){if(!(0,d.tq)()){var e=document.querySelector(".target-today");e&&e.scrollIntoView({inline:"center",block:"nearest"})}}),[x]),(0,i.jsxs)(n.s,{padding:"0",topFocus:t,children:[(0,i.jsx)("div",{style:{padding:"2rem"},className:"home-daily-target-panel no-scrollbar",children:x?(0,i.jsx)(l.HStack,{gap:"2rem",align:"flex-start",justify:t&&!(0,d.tq)()?"center":"flex-start",children:x.map((function(e,a){return(0,i.jsx)("div",{style:{paddingLeft:0!=a||(0,d.tq)()||t?0:"10%",paddingRight:"dummy"!=e.id||t?0:"40%"},children:(0,i.jsx)(o.c,{target:e,lazy:!1})},e.id)}))}):(0,i.jsx)(c.R,{children:"Fetching Daily targets..."})}),(0,i.jsx)("div",{className:"".concat(!t&&"daily-targets-shadowed")})]})}},8431:function(e,t,a){"use strict";a.d(t,{x:function(){return u}});var i=a(2322),r=a(9604),s=a(5598),n=a(3196),l=a.n(n),c=a(7841),o=a(8329),d=a(3125),u=function(e){var t=e.icon,a=e.showProBadge,n=e.title,u=e.subtitle;return(0,i.jsx)(d.E.div,{className:l().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)(s.VStack,{children:[t?(0,i.jsx)(r.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,a?(0,i.jsx)(o.Z,{height:"24"}):null,(0,i.jsx)(c.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:n}),(0,i.jsx)("div",{style:{maxWidth:"72ch"},children:(0,i.jsx)(c.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:u})})]})})}},4987:function(e,t,a){"use strict";a.d(t,{O:function(){return c},s:function(){return o}});var i=a(2322),r=a(3125),s=a(2784),n=a(9721),l=a.n(n),c=function(e){var t=e.onChange,a=e.defaultChecked,s=e.selected,n=e.value,c=e.primary,o=e.highlightId,d=e.children;return(0,i.jsxs)("label",{className:"".concat(l().radioTabBtn," ").concat(c&&l().radioTabBtnPrimary),children:[(0,i.jsx)("input",{type:"radio",name:"tab",value:n,defaultChecked:a,onChange:t}),s?(0,i.jsx)(r.E.div,{layoutId:o,className:"".concat(l().activeIndicator," ").concat(c&&l().activeIndicatorPrimary)}):null,(0,i.jsx)("div",{style:{position:"relative",color:s?"var(--clr-link)":"var(--clr-text)",transition:"0.3s ease"},children:d})]})},o=function(e){var t=e.options,a=e.customOptions,r=e.onChange,n=e.value,o=e.fullWidth,d=void 0!==o&&o,u=e.primary,h=void 0!==u&&u,x=e.classes,y=void 0===x?"":x,v=(0,s.useId)();return(0,i.jsxs)("div",{className:"".concat(l().radioTabs," ").concat(d&&l().radioTabsFullWidth," ").concat(h&&l().radioTabsPrimary," ").concat(y),children:[t.map((function(e,t){return(0,i.jsx)(c,{onChange:r,value:e.value,selected:n===e.value,primary:h,highlightId:v,children:e.label},e.value)})),a]})}},723:function(e,t,a){"use strict";a.r(t),a.d(t,{DailyTargetsStatsTile:function(){return z},default:function(){return D}});var i=a(2322),r=a(2784),s=a(7729),n=a.n(s),l=a(3638),c=a(5598),o=a(5314),d=a.n(o),u=a(9604),h=a(8431),x=a(8329),y=a(7841),v=a(4987),m=a(7037),g=a(5923),p=a.n(g),f=a(2173),j=a(1893),T=a(3125),b=a(9241),_=a(5416),S=a(2367),k="All targets",N="Played",w="Not played",P=function(e){var t=e.filter,a=e.onAllFilterClick,s=(0,r.useState)(),n=s[0],l=s[1],o=(0,r.useState)(),d=o[0],u=o[1],h=(0,r.useState)(!1),x=h[0],v=h[1],g=(0,j.a)();return(0,r.useEffect)((function(){v(!0);var e=(null===g||void 0===g?void 0:g.isPro)?400:30;(0,m.rz)(e).then((function(e){var t=e.slice();t.forEach((function(e,t){e.formattedDate=(0,S.dQ)(e.startDate),(null===g||void 0===g?void 0:g.uid)&&(0,m.kP)({playerId:g.uid,levelId:e.id}).then((function(t){t&&(e.isPlayed=!0)}))})),t.splice(0,2),l(t)}))}),[null===g||void 0===g?void 0:g.isPro]),(0,r.useEffect)((function(){n&&(u(t===N?n.filter((function(e){return e.isPlayed})):t===w?n.filter((function(e){return!e.isPlayed})):n),v(!1))}),[t,n]),x?(0,i.jsx)(b.a,{}):d&&!d.length?(0,i.jsx)(_.s,{onlyBorder:!0,children:(0,i.jsxs)(c.VStack,{children:[(0,i.jsx)(y.x,{mono:!1,size:"1",weight:"500",children:"No targets found for this filter"}),(0,i.jsx)("button",{className:"button",onClick:a,children:"View all targets"})]})}):d?(0,i.jsxs)(c.VStack,{gap:"2rem",align:"stretch",children:[(0,i.jsx)("div",{className:p().container,children:d.map((function(e){return(0,i.jsx)(T.E.div,{layout:!0,className:"target-primary",children:(0,i.jsx)(f.c,{target:e,showDateInside:!0})},e.id)}))}),!(null===g||void 0===g?void 0:g.isPro)&&(0,i.jsx)(c.HStack,{justify:"center",children:(0,i.jsx)(y.x,{mono:!1,size:"1",weight:"500",children:"and hundreds more with PLUS!"})})]}):void 0},z=function(e){var t=e.icon,a=e.name,r=e.value,s=e.naked;return(0,i.jsx)("div",{className:"".concat(d().statsTile," ").concat(s?d().statsTileNaked:""),children:(0,i.jsxs)(c.HStack,{gap:"0",children:[(0,i.jsx)("div",{className:d().statsTileIcon,children:(0,i.jsx)(u.J,{name:t,size:"1.5rem",marginRight:"0"})}),(0,i.jsx)("div",{className:d().statsTileText,children:(0,i.jsxs)(c.VStack,{align:"flex-start",gap:"0",children:[(0,i.jsx)("p",{className:d().statsTileName,children:a}),(0,i.jsx)("p",{className:d().statsTileValue,children:r})]})})]})})},D=function(){var e=(0,j.a)(),t=(0,r.useState)(k),a=t[0],s=t[1],o=(0,r.useState)(),d=o[0],u=o[1];return(0,r.useEffect)((function(){(null===e||void 0===e?void 0:e.uid)&&(0,m.QC)(e.uid).then((function(e){u(e)}))}),[null===e||void 0===e?void 0:e.uid]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Daily Targets | CSSBattle"},"title"),(0,i.jsx)("meta",{property:"og:title",content:"Daily Targets - CSSBattle"},"ogTitle")]}),(0,i.jsx)(h.x,{icon:"daily-targets",title:"Daily Targets",subtitle:"A new target everyday for you to unwind. No leaderboards, no competition"}),(0,i.jsx)(T.E.div,{style:{marginTop:"3rem"},initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(l.J,{showFreeOnly:!0,count:2})}),!!d&&(0,i.jsx)(T.E.div,{layout:!0,style:{marginTop:"2rem"},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,i.jsx)(_.s,{children:(0,i.jsxs)(c.VStack,{align:"stretch",children:[(0,i.jsx)(y.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Your overall stats"}),(0,i.jsxs)(c.HStack,{gap:"1rem",justify:"stretch",responsive:!0,children:[(0,i.jsx)(z,{icon:"target",name:"Targets played",value:d.playedCount}),(0,i.jsx)(z,{icon:"percent",name:"Avg match percent",value:d.averageMatch+"%"}),(0,i.jsx)(z,{icon:"characters",name:"Avg characters",value:d.averageCodeSize}),(0,i.jsx)(z,{icon:"tags",name:"Most used properties",value:d.properties.slice(0,3).join(", ")})]})]})})}),(0,i.jsx)(T.E.div,{layout:!0,style:{marginTop:"4rem"},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,i.jsxs)(c.VStack,{gap:"2rem",align:"stretch",children:[(0,i.jsxs)(c.HStack,{justify:"space-between",responsive:!0,children:[(0,i.jsxs)(c.VStack,{gap:"0.5rem",align:"flex-start",children:[(0,i.jsxs)(c.HStack,{gap:"0.5rem",children:[(0,i.jsx)(y.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Previous targets"}),(0,i.jsx)(x.Z,{})]}),(0,i.jsx)("div",{style:{maxWidth:"64ch"},children:(0,i.jsx)(y.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",children:"Want more? Play the previously released targets. You can also view the top solutions of all previous targets"})})]}),(0,i.jsx)(v.s,{options:[{label:k,value:k},{label:w,value:w},{label:N,value:N}],value:a,onChange:function(e){s(e.target.value)},primary:!0})]}),(0,i.jsx)(P,{filter:a,onAllFilterClick:function(){s(k)}})]})})]})}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}},5923:function(e){e.exports={container:"PreviousDailyTargets_container__IMmiY"}},9721:function(e){e.exports={radioTabs:"RadioTabs_radioTabs__d9zDK",radioTabsFullWidth:"RadioTabs_radioTabsFullWidth__oq2fN",radioTabsPrimary:"RadioTabs_radioTabsPrimary__igl35",radioTabBtn:"RadioTabs_radioTabBtn__aLbrp",radioTabBtnPrimary:"RadioTabs_radioTabBtnPrimary__Nyq78",activeIndicator:"RadioTabs_activeIndicator___CbYq",activeIndicatorPrimary:"RadioTabs_activeIndicatorPrimary__8jTez"}},5314:function(e){e.exports={statsTile:"daily_statsTile__iIBQR",statsTileNaked:"daily_statsTileNaked__4qSJf",statsTileText:"daily_statsTileText__pvZFR",statsTileIcon:"daily_statsTileIcon__0sSAw",statsTileName:"daily_statsTileName__55m00",statsTileValue:"daily_statsTileValue__5VzaP"}}}]);
//# sourceMappingURL=723-2886a5a2c35a3e74.js.map