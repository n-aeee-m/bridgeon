(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{1565:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(8101)}])},8431:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var o=n(2322),a=n(9604),r=n(5598),i=n(3196),c=n.n(i),u=n(7841),s=n(8329),d=n(3125),l=function(e){var t=e.icon,n=e.showProBadge,i=e.title,l=e.subtitle;return(0,o.jsx)(d.E.div,{className:c().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,o.jsxs)(r.VStack,{children:[t?(0,o.jsx)(a.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,n?(0,o.jsx)(s.Z,{height:"24"}):null,(0,o.jsx)(u.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:i}),(0,o.jsx)("div",{style:{maxWidth:"72ch"},children:(0,o.jsx)(u.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:l})})]})})}},4200:function(e,t,n){"use strict";n.d(t,{T:function(){return c}});var o=n(2322),a=n(9604),r=n(5598),i=n(7841),c=function(e){var t=e.icon,n=e.value,c=e.valueDim,u=e.description,s=e.large,d=void 0!==s&&s;return(0,o.jsx)("div",{className:"leaderboard-stats-box ".concat(d?"leaderboard-stats-box--large":""),children:(0,o.jsxs)(r.VStack,{gap:0,children:[(0,o.jsx)("div",{className:"leaderboard-stats-box__icon",children:(0,o.jsx)(a.J,{name:t,color:"var(--clr-brand)",size:d?24:20,marginRight:"0"})}),(0,o.jsxs)(r.HStack,{gap:"0.5rem",children:[(0,o.jsx)(i.x,{mono:!1,size:d?3:2,weight:700,appearance:"primary",children:n}),c&&(0,o.jsx)(i.x,{mono:!1,size:d?3:2,weight:500,appearance:"secondary",children:c})]}),(0,o.jsx)(i.x,{mono:!1,size:d?1:0,weight:500,appearance:"tertiary",children:u})]})})}},4987:function(e,t,n){"use strict";n.d(t,{O:function(){return u},s:function(){return s}});var o=n(2322),a=n(3125),r=n(2784),i=n(9721),c=n.n(i),u=function(e){var t=e.onChange,n=e.defaultChecked,r=e.selected,i=e.value,u=e.primary,s=e.highlightId,d=e.children;return(0,o.jsxs)("label",{className:"".concat(c().radioTabBtn," ").concat(u&&c().radioTabBtnPrimary),children:[(0,o.jsx)("input",{type:"radio",name:"tab",value:i,defaultChecked:n,onChange:t}),r?(0,o.jsx)(a.E.div,{layoutId:s,className:"".concat(c().activeIndicator," ").concat(u&&c().activeIndicatorPrimary)}):null,(0,o.jsx)("div",{style:{position:"relative",color:r?"var(--clr-link)":"var(--clr-text)",transition:"0.3s ease"},children:d})]})},s=function(e){var t=e.options,n=e.customOptions,a=e.onChange,i=e.value,s=e.fullWidth,d=void 0!==s&&s,l=e.primary,y=void 0!==l&&l,h=e.classes,m=void 0===h?"":h,S=(0,r.useId)();return(0,o.jsxs)("div",{className:"".concat(c().radioTabs," ").concat(d&&c().radioTabsFullWidth," ").concat(y&&c().radioTabsPrimary," ").concat(m),children:[t.map((function(e,t){return(0,o.jsx)(u,{onChange:a,value:e.value,selected:i===e.value,primary:y,highlightId:S,children:e.label},e.value)})),n]})}},6735:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var o=n(2784);function a(e){var t=(0,o.useState)(),n=t[0],a=t[1];return(0,o.useEffect)((function(){var t=document.createElement("script");t.src="https://cdn.paddle.com/paddle/paddle.js",t.async="true",t.addEventListener("load",(function(){window.Paddle.Setup({vendor:e}),a(!0)})),document.body.appendChild(t)}),[]),n}},8101:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var o=n(8788),a=n(2838),r=n(2970),i=n(2322),c=n(2784),u=n(7729),s=n.n(u),d=n(4896),l=n(3552),y=n(7037),h=n(2220),m=n(2367),S=n(3290),C=n(9604),N=n(9241),p=[{countryName:"Afghanistan",countryShortCode:"AF"},{countryName:"\xc5land Islands",countryShortCode:"AX"},{countryName:"Albania",countryShortCode:"AL"},{countryName:"Algeria",countryShortCode:"DZ"},{countryName:"American Samoa",countryShortCode:"AS"},{countryName:"Andorra",countryShortCode:"AD"},{countryName:"Angola",countryShortCode:"AO"},{countryName:"Anguilla",countryShortCode:"AI"},{countryName:"Antarctica",countryShortCode:"AQ"},{countryName:"Antigua and Barbuda",countryShortCode:"AG"},{countryName:"Argentina",countryShortCode:"AR"},{countryName:"Armenia",countryShortCode:"AM"},{countryName:"Aruba",countryShortCode:"AW"},{countryName:"Australia",countryShortCode:"AU"},{countryName:"Austria",countryShortCode:"AT"},{countryName:"Azerbaijan",countryShortCode:"AZ"},{countryName:"Bahamas",countryShortCode:"BS"},{countryName:"Bahrain",countryShortCode:"BH"},{countryName:"Bangladesh",countryShortCode:"BD"},{countryName:"Barbados",countryShortCode:"BB"},{countryName:"Belarus",countryShortCode:"BY"},{countryName:"Belgium",countryShortCode:"BE"},{countryName:"Belize",countryShortCode:"BZ"},{countryName:"Benin",countryShortCode:"BJ"},{countryName:"Bermuda",countryShortCode:"BM"},{countryName:"Bhutan",countryShortCode:"BT"},{countryName:"Bolivia",countryShortCode:"BO"},{countryName:"Bonaire, Sint Eustatius and Saba",countryShortCode:"BQ"},{countryName:"Bosnia and Herzegovina",countryShortCode:"BA"},{countryName:"Botswana",countryShortCode:"BW"},{countryName:"Bouvet Island",countryShortCode:"BV"},{countryName:"Brazil",countryShortCode:"BR"},{countryName:"British Indian Ocean Territory",countryShortCode:"IO"},{countryName:"Brunei Darussalam",countryShortCode:"BN"},{countryName:"Bulgaria",countryShortCode:"BG"},{countryName:"Burkina Faso",countryShortCode:"BF"},{countryName:"Burundi",countryShortCode:"BI"},{countryName:"Cambodia",countryShortCode:"KH"},{countryName:"Cameroon",countryShortCode:"CM"},{countryName:"Canada",countryShortCode:"CA"},{countryName:"Cape Verde",countryShortCode:"CV"},{countryName:"Cayman Islands",countryShortCode:"KY"},{countryName:"Central African Republic",countryShortCode:"CF"},{countryName:"Chad",countryShortCode:"TD"},{countryName:"Chile",countryShortCode:"CL"},{countryName:"China",countryShortCode:"CN"},{countryName:"Christmas Island",countryShortCode:"CX"},{countryName:"Cocos (Keeling) Islands",countryShortCode:"CC"},{countryName:"Colombia",countryShortCode:"CO"},{countryName:"Comoros",countryShortCode:"KM"},{countryName:"Congo, Republic of the (Brazzaville)",countryShortCode:"CG"},{countryName:"Congo, the Democratic Republic of the (Kinshasa)",countryShortCode:"CD"},{countryName:"Cook Islands",countryShortCode:"CK"},{countryName:"Costa Rica",countryShortCode:"CR"},{countryName:"C\xf4te d'Ivoire, Republic of",countryShortCode:"CI"},{countryName:"Croatia",countryShortCode:"HR"},{countryName:"Cuba",countryShortCode:"CU"},{countryName:"Cura\xe7ao",countryShortCode:"CW"},{countryName:"Cyprus",countryShortCode:"CY"},{countryName:"Czech Republic",countryShortCode:"CZ"},{countryName:"Denmark",countryShortCode:"DK"},{countryName:"Djibouti",countryShortCode:"DJ"},{countryName:"Dominica",countryShortCode:"DM"},{countryName:"Dominican Republic",countryShortCode:"DO"},{countryName:"Ecuador",countryShortCode:"EC"},{countryName:"Egypt",countryShortCode:"EG"},{countryName:"El Salvador",countryShortCode:"SV"},{countryName:"Equatorial Guinea",countryShortCode:"GQ"},{countryName:"Eritrea",countryShortCode:"ER"},{countryName:"Estonia",countryShortCode:"EE"},{countryName:"Ethiopia",countryShortCode:"ET"},{countryName:"Falkland Islands (Islas Malvinas)",countryShortCode:"FK"},{countryName:"Faroe Islands",countryShortCode:"FO"},{countryName:"Fiji",countryShortCode:"FJ"},{countryName:"Finland",countryShortCode:"FI"},{countryName:"France",countryShortCode:"FR"},{countryName:"French Guiana",countryShortCode:"GF"},{countryName:"French Polynesia",countryShortCode:"PF"},{countryName:"French Southern and Antarctic Lands",countryShortCode:"TF"},{countryName:"Gabon",countryShortCode:"GA"},{countryName:"Gambia, The",countryShortCode:"GM"},{countryName:"Georgia",countryShortCode:"GE"},{countryName:"Germany",countryShortCode:"DE"},{countryName:"Ghana",countryShortCode:"GH"},{countryName:"Gibraltar",countryShortCode:"GI"},{countryName:"Greece",countryShortCode:"GR"},{countryName:"Greenland",countryShortCode:"GL"},{countryName:"Grenada",countryShortCode:"GD"},{countryName:"Guadeloupe",countryShortCode:"GP"},{countryName:"Guam",countryShortCode:"GU"},{countryName:"Guatemala",countryShortCode:"GT"},{countryName:"Guernsey",countryShortCode:"GG"},{countryName:"Guinea",countryShortCode:"GN"},{countryName:"Guinea-Bissau",countryShortCode:"GW"},{countryName:"Guyana",countryShortCode:"GY"},{countryName:"Haiti",countryShortCode:"HT"},{countryName:"Heard Island and McDonald Islands",countryShortCode:"HM"},{countryName:"Holy See (Vatican City)",countryShortCode:"VA"},{countryName:"Honduras",countryShortCode:"HN"},{countryName:"Hong Kong",countryShortCode:"HK"},{countryName:"Hungary",countryShortCode:"HU"},{countryName:"Iceland",countryShortCode:"IS"},{countryName:"India",countryShortCode:"IN"},{countryName:"Indonesia",countryShortCode:"ID"},{countryName:"Iran, Islamic Republic of",countryShortCode:"IR"},{countryName:"Iraq",countryShortCode:"IQ"},{countryName:"Ireland",countryShortCode:"IE"},{countryName:"Isle of Man",countryShortCode:"IM"},{countryName:"Israel",countryShortCode:"IL"},{countryName:"Italy",countryShortCode:"IT"},{countryName:"Jamaica",countryShortCode:"JM"},{countryName:"Japan",countryShortCode:"JP"},{countryName:"Jersey",countryShortCode:"JE"},{countryName:"Jordan",countryShortCode:"JO"},{countryName:"Kazakhstan",countryShortCode:"KZ"},{countryName:"Kenya",countryShortCode:"KE"},{countryName:"Kiribati",countryShortCode:"KI"},{countryName:"Korea, Democratic People's Republic of",countryShortCode:"KP"},{countryName:"Korea, Republic of",countryShortCode:"KR"},{countryName:"Kosovo",countryShortCode:"KV"},{countryName:"Kuwait",countryShortCode:"KW"},{countryName:"Kyrgyzstan",countryShortCode:"KG"},{countryName:"Laos",countryShortCode:"LA"},{countryName:"Latvia",countryShortCode:"LV"},{countryName:"Lebanon",countryShortCode:"LB"},{countryName:"Lesotho",countryShortCode:"LS"},{countryName:"Liberia",countryShortCode:"LR"},{countryName:"Libya",countryShortCode:"LY"},{countryName:"Liechtenstein",countryShortCode:"LI"},{countryName:"Lithuania",countryShortCode:"LT"},{countryName:"Luxembourg",countryShortCode:"LU"},{countryName:"Macao",countryShortCode:"MO"},{countryName:"Macedonia, Republic of",countryShortCode:"MK"},{countryName:"Madagascar",countryShortCode:"MG"},{countryName:"Malawi",countryShortCode:"MW"},{countryName:"Malaysia",countryShortCode:"MY"},{countryName:"Maldives",countryShortCode:"MV"},{countryName:"Mali",countryShortCode:"ML"},{countryName:"Malta",countryShortCode:"MT"},{countryName:"Marshall Islands",countryShortCode:"MH"},{countryName:"Martinique",countryShortCode:"MQ"},{countryName:"Mauritania",countryShortCode:"MR"},{countryName:"Mauritius",countryShortCode:"MU"},{countryName:"Mayotte",countryShortCode:"YT"},{countryName:"Mexico",countryShortCode:"MX"},{countryName:"Micronesia, Federated States of",countryShortCode:"FM"},{countryName:"Moldova",countryShortCode:"MD"},{countryName:"Monaco",countryShortCode:"MC"},{countryName:"Mongolia",countryShortCode:"MN"},{countryName:"Montenegro",countryShortCode:"ME"},{countryName:"Montserrat",countryShortCode:"MS"},{countryName:"Morocco",countryShortCode:"MA"},{countryName:"Mozambique",countryShortCode:"MZ"},{countryName:"Myanmar",countryShortCode:"MM"},{countryName:"Namibia",countryShortCode:"NA"},{countryName:"Nauru",countryShortCode:"NR"},{countryName:"Nepal",countryShortCode:"NP"},{countryName:"Netherlands",countryShortCode:"NL"},{countryName:"New Caledonia",countryShortCode:"NC"},{countryName:"New Zealand",countryShortCode:"NZ"},{countryName:"Nicaragua",countryShortCode:"NI"},{countryName:"Niger",countryShortCode:"NE"},{countryName:"Nigeria",countryShortCode:"NG"},{countryName:"Niue",countryShortCode:"NU"},{countryName:"Norfolk Island",countryShortCode:"NF"},{countryName:"Northern Mariana Islands",countryShortCode:"MP"},{countryName:"Norway",countryShortCode:"NO"},{countryName:"Oman",countryShortCode:"OM"},{countryName:"Pakistan",countryShortCode:"PK"},{countryName:"Palau",countryShortCode:"PW"},{countryName:"Palestine, State of",countryShortCode:"PS"},{countryName:"Panama",countryShortCode:"PA"},{countryName:"Papua New Guinea",countryShortCode:"PG"},{countryName:"Paraguay",countryShortCode:"PY"},{countryName:"Peru",countryShortCode:"PE"},{countryName:"Philippines",countryShortCode:"PH"},{countryName:"Pitcairn",countryShortCode:"PN"},{countryName:"Poland",countryShortCode:"PL"},{countryName:"Portugal",countryShortCode:"PT"},{countryName:"Puerto Rico",countryShortCode:"PR"},{countryName:"Qatar",countryShortCode:"QA"},{countryName:"R\xe9union",countryShortCode:"RE"},{countryName:"Romania",countryShortCode:"RO"},{countryName:"Russian Federation",countryShortCode:"RU"},{countryName:"Rwanda",countryShortCode:"RW"},{countryName:"Saint Barth\xe9lemy",countryShortCode:"BL"},{countryName:"Saint Helena, Ascension and Tristan da Cunha",countryShortCode:"SH"},{countryName:"Saint Kitts and Nevis",countryShortCode:"KN"},{countryName:"Saint Lucia",countryShortCode:"LC"},{countryName:"Saint Martin",countryShortCode:"MF"},{countryName:"Saint Pierre and Miquelon",countryShortCode:"PM"},{countryName:"Saint Vincent and the Grenadines",countryShortCode:"VC"},{countryName:"Samoa",countryShortCode:"WS"},{countryName:"San Marino",countryShortCode:"SM"},{countryName:"Sao Tome and Principe",countryShortCode:"ST"},{countryName:"Saudi Arabia",countryShortCode:"SA"},{countryName:"Senegal",countryShortCode:"SN"},{countryName:"Serbia",countryShortCode:"RS"},{countryName:"Seychelles",countryShortCode:"SC"},{countryName:"Sierra Leone",countryShortCode:"SL"},{countryName:"Singapore",countryShortCode:"SG"},{countryName:"Sint Maarten (Dutch part)",countryShortCode:"SX"},{countryName:"Slovakia",countryShortCode:"SK"},{countryName:"Slovenia",countryShortCode:"SI"},{countryName:"Solomon Islands",countryShortCode:"SB"},{countryName:"Somalia",countryShortCode:"SO"},{countryName:"South Africa",countryShortCode:"ZA"},{countryName:"South Georgia and South Sandwich Islands",countryShortCode:"GS"},{countryName:"South Sudan",countryShortCode:"SS"},{countryName:"Spain",countryShortCode:"ES"},{countryName:"Sri Lanka",countryShortCode:"LK"},{countryName:"Sudan",countryShortCode:"SD"},{countryName:"Suriname",countryShortCode:"SR"},{countryName:"Swaziland",countryShortCode:"SZ"},{countryName:"Sweden",countryShortCode:"SE"},{countryName:"Switzerland",countryShortCode:"CH"},{countryName:"Syrian Arab Republic",countryShortCode:"SY"},{countryName:"Taiwan",countryShortCode:"TW"},{countryName:"Tajikistan",countryShortCode:"TJ"},{countryName:"Tanzania, United Republic of",countryShortCode:"TZ"},{countryName:"Thailand",countryShortCode:"TH"},{countryName:"Timor-Leste",countryShortCode:"TL"},{countryName:"Togo",countryShortCode:"TG"},{countryName:"Tokelau",countryShortCode:"TK"},{countryName:"Tonga",countryShortCode:"TO"},{countryName:"Trinidad and Tobago",countryShortCode:"TT"},{countryName:"Tunisia",countryShortCode:"TN"},{countryName:"Turkey",countryShortCode:"TR"},{countryName:"Turkmenistan",countryShortCode:"TM"},{countryName:"Turks and Caicos Islands",countryShortCode:"TC"},{countryName:"Tuvalu",countryShortCode:"TV"},{countryName:"Uganda",countryShortCode:"UG"},{countryName:"Ukraine",countryShortCode:"UA"},{countryName:"United Arab Emirates",countryShortCode:"AE"},{countryName:"United Kingdom",countryShortCode:"GB"},{countryName:"United States",countryShortCode:"US"},{countryName:"United States Minor Outlying Islands",countryShortCode:"UM"},{countryName:"Uruguay",countryShortCode:"UY"},{countryName:"Uzbekistan",countryShortCode:"UZ"},{countryName:"Vanuatu",countryShortCode:"VU"},{countryName:"Venezuela, Bolivarian Republic of",countryShortCode:"VE"},{countryName:"Vietnam",countryShortCode:"VN"},{countryName:"Virgin Islands, British",countryShortCode:"VG"},{countryName:"Virgin Islands, U.S.",countryShortCode:"VI"},{countryName:"Wallis and Futuna",countryShortCode:"WF"},{countryName:"Western Sahara",countryShortCode:"EH"},{countryName:"Yemen",countryShortCode:"YE"},{countryName:"Zambia",countryShortCode:"ZM"},{countryName:"Zimbabwe",countryShortCode:"ZW"}],x=n(1251),g=n(4675),f=n(3947);function b(e){var t=e.url,n=(0,c.useContext)(l.S),o=(0,c.useState)(),a=o[0],r=o[1],u=(0,c.useState)(t),s=u[0],y=u[1],S=(0,c.useState)(),C=S[0],p=S[1];return(0,i.jsxs)("div",{className:"input-container",children:[(0,i.jsx)("label",{htmlFor:"avatar",children:"Profile Picture"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},className:"input-container",children:[(0,i.jsx)("div",{style:{marginRight:"1rem"},children:(0,i.jsx)(x.F$,{size:"50",url:s})}),a?(0,i.jsx)(N.a,{}):(0,i.jsxs)("div",{style:{minWidth:"0"},children:[C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.z,{primary:!0,onClick:function(){var e=n.uid,t=C.name.replace(/.*\.(\w+)?$/,"avatar.$1"),o=C.name.match(/\.(\w+)?$/),a=o&&"jpg"!==o[1]?o[1]:"jpeg";r(!0),(0,m.cT)({userId:n.uid,file:C,path:"user/".concat(e,"/").concat(t)}).then((function(){r(!1),p(void 0),d.Am.info("Profile image updated successfully."),(0,f.ck)(g.I8.currentUser,{photoURL:"https://firebasestorage.googleapis.com/v0/b/".concat(g.NX,".appspot.com/o/").concat(encodeURIComponent("user/".concat(e,"/avatar_").concat(e,".").concat(a)),"?alt=media")})}))},children:"Looks good. Upload & Save"})," ","or"," "]}),(0,i.jsx)("input",{type:"file",id:"avatar",accept:"image/*",onChange:function(e){if(n){var t=e.target.files[0];if(t.name.match(/\.svg/))return alert("Svg image isn't allowed");if(t.size/1024>1024)return alert("Image size should be less than 1MB");p(t);var o=new FileReader;o.onloadend=function(){y(o.result)},o.readAsDataURL(t)}}})]})]}),(0,i.jsx)("p",{className:"input-hint",children:"Image file (png or jpeg) should be less than 1mb. Preferably a square image of at least 150px dimension."})]})}var j=n(865),v=n(9097),T=n.n(v),k=n(1893),I=n(5598),M=n(4200),w=n(8387),_=n(7353);function P(e){var t=e.playerData,n=(0,k.a)(),o=(0,c.useState)(!1),a=o[0],r=o[1],u=(0,c.useState)(),s=u[0],l=u[1],C=(0,c.useState)(JSON.parse(JSON.stringify(t))),p=C[0],x=(C[1],(0,c.useState)([])),g=x[0],f=x[1];(0,c.useEffect)((function(){n&&n.isPro&&(r(!0),(0,y.oE)(n.uid).then((function(e){f(e),r(!1)})))}),[n?n.uid:"",n?n.isPro:""]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"current-membership",children:[n&&!n.isPro&&(0,i.jsxs)(I.VStack,{align:"center",children:[(0,i.jsx)("p",{className:"para",children:'You are not a "PLUS" member yet.'}),(0,i.jsxs)(_.j,{href:"/plus",children:["Upgrade to ",(0,i.jsx)(w.Z,{})]})]}),(null===n||void 0===n?void 0:n.isPro)?(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(0,m.BE)({settings:p.settings});l(!0),(0,y.Ii)(n.uid,t).then((function(){l(!1);var e=JSON.parse(window.localStorage.getItem("lastUser")||null);e&&(e.settings=(0,j.Z)({},e.settings,t.settings),(0,m.xX)(e)),(0,S.q)({name:"settingsUpdated"}),d.Am.info("Settings updated successfully!")}))},children:[(0,i.jsx)("div",{className:"input-container",children:(0,i.jsxs)("label",{htmlFor:"vscode",children:[(0,i.jsx)("input",{type:"checkbox",defaultChecked:t.settings&&t.settings.vscode||!1,onChange:function(e){var t=e.target.dataset.path,n="checkbox"===e.target.type?e.target.checked:e.target.value;(0,m.SG)(p,t,n)},"data-path":"settings.vscode",id:"vscode"})," ","VSCode Editor"]})}),(0,i.jsx)("p",{children:(0,i.jsx)(h.z,{primary:!0,type:"submit",isLoading:s,children:"Update settings"})})]}):null,(null===n||void 0===n?void 0:n.isPro)&&(0,i.jsx)("p",{className:"para",children:(0,i.jsx)(I.HStack,{justify:"center",children:(0,i.jsx)(T(),{href:"/plus",children:(0,i.jsx)("a",{className:"link",children:'Read about your "PLUS" benefits'})})})}),a&&(0,i.jsxs)("p",{className:"para",children:[(0,i.jsx)(N.a,{})," Fetching membership details..."]}),g.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{}),(0,i.jsx)(I.VStack,{gap:"5rem",align:"flex-start",children:null===g||void 0===g?void 0:g.map((function(e){return(0,i.jsx)(B,{data:e,currentUserId:null===n||void 0===n?void 0:n.uid},e.id)}))})]}):null]})})}var B=function(e){var t,n,o=e.data,a=e.currentUserId,r=o.subscription.recieverId===a;return(0,i.jsxs)("div",{className:"subscription",children:[(0,i.jsxs)("h3",{children:[o.subscription.recieverId?"Gift":"Current"," Membership: Plus (",parseInt(o.payments[0].data.next_payment_amount,10)<10?"monthly":"yearly",")"]}),(0,i.jsxs)("p",{className:"para",children:[(0,i.jsx)("strong",{children:"Purchased on"}),":"," ",(0,i.jsx)("time",{dateTime:o.subscription.data.event_time,children:new Date(o.subscription.data.event_time).toDateString()})," ","(",o.subscription.data.email,")"]}),(0,i.jsxs)(I.HStack,{gap:"1rem",responsive:!0,children:[(0,i.jsx)(A,{title:"Subscription status",value:o.cancellation?"Cancelled":"active",icon:"user"}),o.subscription.recieverId?(0,i.jsx)(A,{title:r?"Gifted by":"Gifted to",value:r?o.subscription.sender.displayName||o.subscription.userId:o.subscription.reciever.displayName||o.subscription.recieverId,icon:"gift"}):null,r?null:(0,i.jsx)(A,{title:"Subscription expiry",value:(0,i.jsx)("time",{dateTime:o.subscription.data.event_time,children:new Date((null===(t=o.cancellation)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.cancellation_effective_date)||o.payments[0].data.next_bill_date).toDateString()}),icon:"bell"}),o.cancellation?(0,i.jsx)(A,{title:"Cancelled on",value:(0,i.jsx)("time",{dateTime:o.cancellation.data.event_time,children:new Date(o.cancellation.data.event_time).toDateString()}),icon:"daily-targets"}):null,o.cancellation?null:(0,i.jsxs)(i.Fragment,{children:[r?null:(0,i.jsx)(A,{icon:"money",title:"Next payment",value:o.payments[0].data.next_payment_amount}),r?null:(0,i.jsx)(A,{title:"Next due",value:(0,i.jsx)("time",{dateTime:o.payments[0].data.next_bill_date,children:new Date(o.payments[0].data.next_bill_date).toDateString()}),icon:"daily-targets"})]})]}),o.cancellation||r?null:(0,i.jsx)(h.z,{danger:!0,style:{marginTop:"1rem"},onClick:function(){o.subscription&&(window.confirm('Are you sure want to cancel this "PLUS" membership?')&&window.open(o.subscription.data.cancel_url))},children:"Cancel Membership"})]})},A=function(e){var t=e.icon,n=e.title,o=e.value;return(0,i.jsx)(M.T,{icon:t,value:o,description:n,large:!0})},L=n(7842),U=n(6670),E=n(6735),R=n(3590),F=n(11),G=n.n(F);function D(e){var t;return(t={},(0,L.Z)(t,R.Q[R.C.CUSTOM_BATTLE_MINI].vendorId,R.Q[R.C.CUSTOM_BATTLE_MINI].label),(0,L.Z)(t,R.Q[R.C.CUSTOM_BATTLE_SMALL].vendorId,R.Q[R.C.CUSTOM_BATTLE_SMALL].label),t)[e]}var V=[(0,U.Z)((0,j.Z)({id:R.C.CUSTOM_BATTLE_MINI},R.Q[R.C.CUSTOM_BATTLE_MINI]),{durationText:"Upto 24 hours"}),(0,U.Z)((0,j.Z)({id:R.C.CUSTOM_BATTLE_SMALL},R.Q[R.C.CUSTOM_BATTLE_SMALL]),{durationText:"Upto 7 days"})];function H(){var e=function(e){g(e.target.value)},t=(0,k.a)(),n=(0,c.useState)([]),o=n[0],a=n[1],r=(0,c.useState)(!1),u=r[0],s=r[1],d=(0,E.H)(50177),l=(0,c.useState)(!1),m=l[0],S=l[1];(0,c.useEffect)((function(){t&&(s(!0),(0,y.DI)(t.uid).then((function(e){e=e.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds})).map((function(e){return(0,U.Z)((0,j.Z)({},e),{purchasedOnHumanReadable:new Date(1e3*e.timestamp.seconds)})})),s(!1),a(e)})))}),[t?t.uid:"",t?t.isPro:""]);var C=(0,c.useState)(R.C.CUSTOM_BATTLE_MINI),p=C[0],g=C[1];return(0,i.jsxs)("div",{children:[(0,i.jsxs)("fieldset",{className:G().pricing,children:[(0,i.jsx)("legend",{children:(0,i.jsx)("h2",{children:"Select battle type to purchase"})}),V.map((function(t,n){return(0,i.jsx)(x.xu,{style:{marginBottom:"1.5rem"},children:(0,i.jsxs)("label",{className:"d-f ai-c",children:[(0,i.jsx)("input",{type:"radio",name:"battle-type",id:t.label,value:t.id,defaultChecked:0===n,onChange:e}),(0,i.jsxs)(x.xu,{style:{marginLeft:"1rem"},children:[(0,i.jsxs)(x.xu,{style:{marginBottom:"0.3rem"},children:[t.label," -"," ",(0,i.jsx)("span",{children:t.salePrice||t.price}),"\xa0",t.salePrice&&(0,i.jsx)("span",{style:{textDecoration:"line-through"},children:t.price})]}),"Duration: ",t.durationText]})]})},t.id)})),(0,i.jsx)("p",{className:"para",children:(0,i.jsx)("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank",children:"Read more about Custom Battles"})}),t?(0,i.jsxs)(h.z,{primary:!0,onClick:function(){setTimeout((function(){S(!0)}),1e3),window.Paddle.Checkout.open({product:R.Q[p].vendorId,passthrough:t.uid})},disabled:!d,style:{marginTop:"2rem"},children:["Buy Custom Battle (",R.Q[p].label,")"]}):(0,i.jsx)(T(),{href:"/login",children:(0,i.jsx)("a",{className:"button button--primary",children:"Sign Up before you can buy"})})]}),m?(0,i.jsx)("p",{className:"para",children:"Please refresh this page in case you purchased."}):null,(0,i.jsx)("h2",{style:{marginTop:"2rem"},children:"Purchases"}),u?(0,i.jsx)(N.R,{children:"Fetching past purchases..."}):null,u||o.length?null:(0,i.jsx)("p",{className:"para",children:"You haven't purchased any Custom Battle credits yet."}),o.length?(0,i.jsxs)("table",{style:{marginTop:"1rem"},className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"No."}),(0,i.jsx)("th",{children:"Battle type"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Purchased on"})]})}),(0,i.jsx)("tbody",{children:o.map((function(e,t){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:o.length-t}),(0,i.jsx)("td",{children:D(e.data.p_product_id)}),(0,i.jsx)("td",{children:e.isUsed?"Used \u274c":"Unused \u2705"}),(0,i.jsx)("td",{children:e.purchasedOnHumanReadable.toDateString()})]},e.id)}))})]}):null]})}var z=(0,c.forwardRef)((function(e,t){var n=e.className,o=void 0===n?"":n,a=e.id,r=e.dataPath,c=e.disabled,u=e.onChange,s=e.value,d=e.defaultValue,l=e.children;return(0,i.jsx)("div",{className:"select ".concat(o),children:(0,i.jsx)("select",{ref:t,disabled:c,onChange:u,value:s,defaultValue:d,id:a,"data-path":r,children:l})})})),O=n(4987),K=n(8431),Z=n(5416),J=n(7841),W=n(5632),Y=(0,n(3125).E)(Z.s);function Q(e){var t=e.name,n=e.selectedTab,o=e.children;return n!==t?null:(0,i.jsx)(Y,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},children:(0,i.jsx)("div",{className:"settings-tab-content",children:o})})}function q(e){var t=e.label,n=e.icon,o=e.prefix,a=e.defaultValue,r=e.onChange,c=e.keyPath,u=t.replace(/\s/,"_");return(0,i.jsxs)("div",{className:"input-container",style:{flexBasis:"50%"},children:[(0,i.jsx)("label",{htmlFor:u,children:t}),(0,i.jsxs)("div",{className:"input-with-prefix",children:[(0,i.jsxs)("p",{className:"input-prefix",children:[n," ",(0,i.jsx)("span",{children:o})]}),(0,i.jsx)("input",{id:u,defaultValue:a,onChange:r,"data-path":c})]})]})}var X=function(e){e.history;var t=(0,c.useContext)(l.S),n=(0,W.useRouter)(),u=(0,c.useState)(),x=u[0],j=u[1],v=(0,c.useState)(),T=v[0],k=v[1],M=(0,c.useState)(),w=M[0],_=M[1],B=(0,c.useState)(),A=B[0],L=B[1],U=(0,c.useState)("profile"),E=U[0],R=U[1];(0,c.useEffect)((function(){var e=function(){var e=window.location.search.match(/tab=([^&]+)/);e&&R(e[1])};return e(),n.events.on("routeChangeComplete",e),function(){n.events.off("routeChangeComplete",e)}}),[]),(0,c.useEffect)((function(){t||(window.localStorage.setItem("beforeLoginLocation",location.pathname+location.search),location.href="/login"),(0,y.$Y)(t.uid,!0).then((function(e){j(e),k(JSON.parse(JSON.stringify(e)))}))}),[t?t.uid:""]);var F=(0,c.useState)(),G=F[0],D=F[1],V=(0,m.Ds)((function(e){if(["admin","administrator","css","cssbattle","css_battle","_cssbattle","_css_battle"].includes(e))return D(!1);D(null),(0,y.Ty)(e).then((function(e){D(!e)}))}),1e3),Z=function(e){e.preventDefault();var n=(0,m.BE)({links:T.links,settings:T.settings,displayName:T.displayName,isAvailableForHire:T.isAvailableForHire,whatYouDo:T.whatYouDo,country:T.country});_(!0),(0,y.Ii)(t.uid,n).then((function(){_(!1),n.displayName&&(0,f.ck)(g.I8.currentUser,{displayName:n.displayName}),(0,S.q)({name:"profileUpdated"}),d.Am.info("Profile updated successfully!")}))},Y=function(e){var t=e.target.dataset.path,n="checkbox"===e.target.type?e.target.checked:e.target.value;(0,m.SG)(T,t,n)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("meta",{property:"og:title",content:"Settings | CSSBattle"},"ogTitle"),(0,i.jsx)("title",{children:"Settings | CSSBattle"},"title")]}),(0,i.jsx)(K.x,{icon:"gear",title:"Settings"}),(0,i.jsx)("div",{style:{marginTop:"2rem"},children:(0,i.jsxs)(I.VStack,{gap:"2rem",children:[(0,i.jsx)(O.s,{primary:!0,onChange:function(e){R(e.target.value)},value:E,options:[{label:"Profile",value:"profile"},{label:"Notifications",value:"notifications"},{label:"Plus Membership",value:"membership"},{label:"Custom Battle credits",value:"custom-battle-credits"}]}),!x&&(0,i.jsx)(Q,{name:"profile",selectedTab:E,children:(0,i.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(N.a,{})," Fetching data..."]})}),x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Q,{name:"profile",selectedTab:E,children:[(0,i.jsxs)("form",{className:"username-form",onSubmit:function(e){if(e.preventDefault(),t){var n=T.username;window.confirm('Username cannot be changed once set. Are you sure you want to set "'.concat(n,'"?'))&&(L(!0),(0,y.Sv)(t,n).then((function(){(0,S.q)({name:"usernameUpdated",label:n}),L(!1),d.Am.info("Username updated successfully! This page will refresh in 2 seconds."),setTimeout((function(){window.location.reload()}),1e3)})).catch(function(){var e=(0,o.Z)((function(e){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return L(!1),(0,a.Z)(e,Promise)?[4,e]:[3,2];case 1:if("usernameUnavailable"===t.sent())d.Am.info("That username is unavailable. Try something else.");else d.Am.info("Oops! Something went wrong. Try again or report to @css_battle");t.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()))}else alert("Please login first.")},children:[(0,i.jsxs)("div",{className:"input-container",children:[(0,i.jsx)("label",{htmlFor:"username",children:"Username (Your own sweet profile page)"}),(0,i.jsxs)("div",{className:"input-with-prefix",children:[(0,i.jsx)("p",{className:"input-prefix",children:(0,i.jsx)("span",{children:"cssbattle.dev/player/"})}),(0,i.jsx)("input",{id:"username",pattern:"[a-zA-Z0-9_]*",minLength:"3",maxLength:"20",defaultValue:x.username,autoComplete:"off","data-path":"username",readOnly:x.username,onInput:function(e){!function(e){var t=e.target.value.toLowerCase();e.target.checkValidity()&&t?V(t):D(void 0)}(e),Y(e)}})]}),x.username&&(0,i.jsxs)("p",{className:"input-hint",children:["Your CSSBattle profile page:"," ",(0,i.jsx)("a",{className:"link",href:"".concat(window.location.origin,"/player/").concat(x.username),children:"".concat(window.location.origin,"/player/").concat(x.username)})]}),(0,i.jsxs)("div",{className:"validation-message",children:[null===G&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.a,{})," Checking username availability"]}),!1===G?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.J,{name:"error"})," This username is already taken"]}):!0===G?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.J,{name:"tick-round"})," This username is available"]}):null]}),!x.username&&(0,i.jsx)("p",{className:"input-hint",children:"Minimum 3 and maximum 20 characters long. Alphabets, numbers and underscore(_) allowed. Case-insensitive."}),(0,i.jsx)("p",{className:"input-hint",children:"Note: Once set, username cannot be changed."})]}),(0,i.jsx)("p",{children:(0,i.jsxs)(h.z,{type:"submit",primary:!0,disabled:!0!==G&&"disabled",isLoading:A,children:["Set Username"," ",T&&T.username?"":"(Enter a username above to enable this button)"]})})]}),(0,i.jsxs)("form",{onSubmit:Z,children:[(0,i.jsx)(b,{url:x.avatar}),(0,i.jsxs)("div",{className:"input-container",children:[(0,i.jsx)("label",{htmlFor:"displayName",children:"Display name"}),(0,i.jsx)("input",{id:"displayName",defaultValue:x.displayName,onInput:Y,"data-path":"displayName"})]}),(0,i.jsxs)(I.HStack,{gap:"0.5rem",children:[(0,i.jsxs)("div",{className:"input-container",style:{flexBasis:"50%"},children:[(0,i.jsx)("label",{htmlFor:"website",children:"Website"}),(0,i.jsx)("input",{id:"website",defaultValue:x.links&&x.links.website||"",onInput:Y,"data-path":"links.website"})]}),(0,i.jsx)(q,{label:"Twitter username",prefix:"twitter.com/",defaultValue:x.links&&x.links.twitter||"",onChange:Y,keyPath:"links.twitter",icon:(0,i.jsx)(C.J,{name:"twitter",size:"20"})})]}),(0,i.jsxs)(I.HStack,{gap:"0.5rem",children:[(0,i.jsx)(q,{label:"Github username",prefix:"github.com/",defaultValue:x.links&&x.links.github||"",onChange:Y,keyPath:"links.github",icon:(0,i.jsx)(C.J,{name:"github",size:"20"})}),(0,i.jsx)(q,{label:"CodePen username",prefix:"codepen.io/",defaultValue:x.links&&x.links.codepen||"",onChange:Y,keyPath:"links.codepen",icon:(0,i.jsx)(C.J,{name:"codepen",size:"20"})})]}),(0,i.jsxs)(I.HStack,{gap:"0.5rem",children:[(0,i.jsx)(q,{label:"LinkedIn username",prefix:"linkedin.com/",defaultValue:x.links&&x.links.linkedin||"",onChange:Y,keyPath:"links.linkedin",icon:(0,i.jsx)(C.J,{name:"linkedin",size:"20"})}),(0,i.jsx)(q,{label:"Instagram username",prefix:"instagram.com/",defaultValue:x.links&&x.links.instagram||"",onChange:Y,keyPath:"links.instagram",icon:(0,i.jsx)(C.J,{name:"instagram",size:"20"})})]}),(0,i.jsxs)(I.HStack,{gap:"0.5rem",children:[(0,i.jsx)(q,{label:"Youtube username",prefix:"youtube.com/",defaultValue:x.links&&x.links.youtube||"",onChange:Y,keyPath:"links.youtube",icon:(0,i.jsx)(C.J,{name:"youtube",size:"20"})}),(0,i.jsx)(q,{label:"Twitch username",prefix:"twitch.tv/",defaultValue:x.links&&x.links.twitch||"",onChange:Y,keyPath:"links.twitch",icon:(0,i.jsx)(C.J,{name:"twitch",size:"20"})})]}),(0,i.jsxs)("div",{className:"input-container",children:[(0,i.jsx)("label",{htmlFor:"headline",children:"What do you do?"}),(0,i.jsx)("input",{id:"headline",defaultValue:x.whatYouDo,onInput:Y,"data-path":"whatYouDo"})]}),(0,i.jsx)("div",{className:"input-container",children:(0,i.jsxs)("label",{htmlFor:"hiringStatus",children:[(0,i.jsx)("input",{type:"checkbox",defaultChecked:x.isAvailableForHire,onChange:Y,"data-path":"isAvailableForHire",id:"hiringStatus"})," ","Available for hire"]})}),(0,i.jsxs)("div",{className:"input-container",children:[(0,i.jsx)("label",{htmlFor:"country",children:"Country"}),(0,i.jsxs)(z,{defaultValue:x.country,onChange:Y,dataPath:"country",id:"country",children:[(0,i.jsx)("option",{value:"",children:"Select country"}),p.map((function(e){return(0,i.jsx)("option",{value:e.countryName,children:e.countryName},e.countryShortCode)}))]})]}),(0,i.jsx)("p",{children:(0,i.jsx)(h.z,{primary:!0,type:"submit",isLoading:w,children:"Update Profile"})})]}),(0,i.jsx)("p",{className:"para",children:"Note: All information entered here is public."})]}),(0,i.jsx)(Q,{name:"notifications",selectedTab:E,children:(0,i.jsx)("form",{onSubmit:Z,children:(0,i.jsxs)(I.VStack,{align:"flex-start",children:[(0,i.jsx)(J.x,{appearance:"primary",mono:!1,size:"2",weight:"600",children:"Change your email settings"}),(0,i.jsx)("div",{className:"input-container",style:{marginBottom:0,marginTop:"1rem"},children:(0,i.jsxs)("label",{htmlFor:"newsletterEmailNotifications",children:[(0,i.jsx)("input",{type:"checkbox",defaultChecked:x.settings&&x.settings.newsletterMailNotifications||!1,onChange:Y,"data-path":"settings.newsletterMailNotifications",id:"newsletterEmailNotifications"})," ","Subscribe to our monthly newsletter, full of fun CSS!"]})}),(0,i.jsx)("div",{className:"input-container",style:{marginBottom:0},children:(0,i.jsxs)("label",{htmlFor:"emailNotifications",children:[(0,i.jsx)("input",{type:"checkbox",defaultChecked:x.settings&&x.settings.emailNotifications||!1,onChange:Y,"data-path":"settings.emailNotifications",id:"emailNotifications"})," ","Receive updates about new battles & features"]})}),(0,i.jsx)("div",{className:"input-container",style:{marginBottom:0},children:(0,i.jsxs)("label",{htmlFor:"streakMailNotifications",children:[(0,i.jsx)("input",{type:"checkbox",defaultChecked:x.settings&&x.settings.streakMailNotifications||!1,onChange:Y,"data-path":"settings.streakMailNotifications",id:"streakMailNotifications"})," ","Receive a reminder when I'm about to break my streak"]})}),(0,i.jsx)("p",{className:"input-hint",style:{marginTop:0},children:"We won't spam you :)"}),(0,i.jsx)("p",{children:(0,i.jsx)(h.z,{primary:!0,type:"submit",isLoading:w,children:"Update notification preferences"})})]})})}),(0,i.jsx)(Q,{name:"membership",selectedTab:E,children:(0,i.jsx)(P,{playerData:x})}),(0,i.jsx)(Q,{name:"custom-battle-credits",selectedTab:E,children:(0,i.jsx)(H,{})})]})]})})]})}},11:function(e){e.exports={pricing:"SettingsCustomBattlePurchases_pricing__U6MQX"}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}},9721:function(e){e.exports={radioTabs:"RadioTabs_radioTabs__d9zDK",radioTabsFullWidth:"RadioTabs_radioTabsFullWidth__oq2fN",radioTabsPrimary:"RadioTabs_radioTabsPrimary__igl35",radioTabBtn:"RadioTabs_radioTabBtn__aLbrp",radioTabBtnPrimary:"RadioTabs_radioTabBtnPrimary__Nyq78",activeIndicator:"RadioTabs_activeIndicator___CbYq",activeIndicatorPrimary:"RadioTabs_activeIndicatorPrimary__8jTez"}}},function(e){e.O(0,[9774,2888,179],(function(){return t=1565,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=settings-c63806983f5628e0.js.map